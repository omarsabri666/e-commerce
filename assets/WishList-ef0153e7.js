import{u as m,a as u,c,j as e,f,d as h,l as j,Q as i,m as g,U as p,g as y,h as d,L as o,n as N}from"./index-bc85fe3c.js";function v({item:s}){const t=m(),a=u(),{mutate:l,isLoading:n}=c({mutationFn:()=>j(s.id),onSuccess:()=>{t.invalidateQueries(["wishlist"]),i.info("item was deleted ")},onError:()=>{i.error("could not delete item ")}}),{mutate:r}=c({mutationFn:()=>g(s.id),onSuccess:()=>{t.invalidateQueries({queryKey:["cart"]}),i.success("item was added to cart")},onError:()=>{i.error("could not add item to cart")}});async function x(){l()}return e.jsxs("div",{className:" flex    justify-around items-center",children:[e.jsxs("div",{onClick:()=>a(`/productDetails/${s.id}`),className:"  items-center flex-col sm:flex-row  cursor-pointer flex   sm:gap-10",children:[e.jsx("img",{src:s.imageCover,width:250,height:250,className:"  w-24 h-28",alt:`${s.title}img`}),e.jsx("div",{className:"  w-10  md:w-36  ",children:e.jsx("h2",{children:s.title})})]}),e.jsx("h3",{className:" text-omar font-bold",children:f(s.price)}),e.jsxs("div",{className:"   flex-wrap  flex gap-1 md:gap-8 items-center",children:[e.jsx("button",{"aria-label":"delete button",disabled:n,onClick:x,className:" text-red-600 text-3xl",children:e.jsx(h,{})}),e.jsx("button",{onClick:r,className:"  outline outline-[#ff3c20]   hover:text-white hover:bg-omar transition-all  rounded-full text-black text-lg font-bold px-4 py-2 md:px-8 md:py-3",children:"Add To Cart"})]})]})}function k(){const{user:s}=p(),{data:t,isFetching:a,isLoading:l}=y({queryFn:N,queryKey:["wishlist"]},{enabled:!!s});return l?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(d,{})}):a?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(d,{})}):s?(t==null?void 0:t.data.length)===0?e.jsxs("div",{className:"  flex flex-col gap-5  justify-center items-center my-20 ",children:[" ",e.jsx("p",{className:"text-omar text-3xl",children:"WishList is empty keep looking !"}),e.jsx(o,{className:" bg-black text-white px-8 py-3 rounded-lg font-semibold text-lg",to:"/",children:"Keep Looking"})]}):e.jsxs("div",{className:"max-w-6xl flex-col flex-wrap flex gap-6 mx-auto my-10",children:[(t==null?void 0:t.data)&&Array.isArray(t==null?void 0:t.data)&&t.data.map((n,r)=>e.jsx(v,{item:n},r)),e.jsx("div",{className:"flex items-center justify-around my-5 gap-4"})]}):e.jsxs("div",{className:" flex-col my-10 flex justify-center items-center",children:[e.jsx("h2",{className:"  text-3xl font-semibold",children:"You need to Sign in First"}),e.jsx(o,{className:" underline text-blue-600 text-2xl font-semibold",to:"/signin",children:"Sign in"})]})}export{k as default};
