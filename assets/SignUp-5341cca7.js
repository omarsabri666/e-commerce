import{r as t,j as e,p as u,q as p,L as v,k as P}from"./index-7c743193.js";import{u as q}from"./index.esm-9a91c67e.js";import{u as S}from"./usePassword-705f522a.js";function k(){const{handleSubmit:h,register:a,reset:f,formState:{errors:n},getValues:i}=q(),[d,l]=t.useState(""),[c,g]=t.useState(""),[w,o]=t.useState(!1),{togglePassword:m,togglePasswordVis:j,togglePasswordVis2:b,togglePassword2:x}=S();async function N(s){if(s.password!==s.rePassword)return l("password and confirm password should match !");async function y(){o(!0);try{const r=await P.post("/api/v1/auth/signup",{name:s.name,email:s.email,password:s.password,rePassword:s.rePassword,phone:s.phone});if(r.data.message==="success")return l(""),g("email was created successfully "),f(),o(!1),r.data}catch(r){o(!1),l(r.response.data.message)}}y()}return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:h(N),className:"  px-4 md:px-0    my-16 ",children:e.jsx("div",{className:"  max-w-4xl  rounded-lg  mx-auto  shadow-xl",children:e.jsxs("div",{className:" px-4 md:px-0 gap-2 max-w-3xl mx-auto  flex-wrap flex flex-col",children:[e.jsx("h2",{className:" text-center text-xl font-bold",children:"Sign Up"}),e.jsxs("div",{className:" flex flex-wrap gap-4",children:[e.jsxs("div",{className:" flex flex-col w-full gap-1",children:[e.jsx("label",{className:" font-semibold",htmlFor:"name",children:"Full Name"}),e.jsx("input",{required:!0,className:"  py-2  rounded-lg  px-4   focus:outline-none focus:ring focus:ring-orange-300 shadow-xl ",placeholder:"E.G omar sabry",id:"name",type:"text",...a("name",{required:!0})})]}),e.jsxs("div",{className:" flex flex-col w-full gap-1",children:[e.jsx("label",{className:" font-semibold",htmlFor:"email",children:"Email Address"}),e.jsx("input",{required:!0,className:"  py-2  rounded-lg  px-4  focus:outline-none focus:ring focus:ring-orange-300 shadow-xl ",placeholder:"Example@gmail.com",id:"email",type:"email",...a("email")})]})]}),e.jsx("div",{}),e.jsxs("div",{className:" w-full flex flex-col gap-1",children:[e.jsx("label",{className:"  font-semibold",htmlFor:"password",children:"password"}),e.jsxs("div",{className:"  relative",children:[e.jsx("input",{required:!0,minLength:7,maxLength:50,className:" py-2  px-4 rounded-lg  w-full  focus:outline-none focus:ring focus:ring-orange-300 shadow-xl ",id:"password",placeholder:"your Password",type:m?"text":"password",...a("password",{required:"Password is required",validate:s=>s===i("rePassword")||"Passwords do not match"})}),e.jsx("button",{type:"button",className:" text-xl transform -translate-y-1/2 absolute right-2 top-1/2",onClick:j,children:m?e.jsx(u,{}):e.jsx(p,{})})]})]}),e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:"  font-semibold",htmlFor:"rePassword",children:"Confirm password"}),e.jsxs("div",{className:" relative",children:[e.jsx("input",{required:!0,minLength:7,maxLength:50,className:" py-2  px-4 rounded-lg w-full   focus:outline-none focus:ring focus:ring-orange-300 shadow-xl ",id:"rePassword",placeholder:"Confirm Password",type:x?"text":"password",...a("rePassword",{required:"confirm password is required ",validate:s=>s===i("password")||"Passwords do not match"})}),e.jsx("button",{type:"button",className:" text-xl transform -translate-y-1/2 absolute right-2 top-1/2",onClick:b,children:x?e.jsx(u,{}):e.jsx(p,{})})]}),n.rePassword&&e.jsx("span",{className:"text-red-600  my-1 -bottom-4 left-0",children:n.rePassword.message})]}),e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:"  font-semibold",htmlFor:"phone",children:"phone"}),e.jsx("input",{required:!0,minLength:7,maxLength:50,className:" py-2  px-4 rounded-lg   focus:outline-none focus:ring focus:ring-orange-300 shadow-xl ",id:"phone",placeholder:"phone",type:"number",...a("phone")})]}),e.jsx("div",{}),e.jsx("button",{disabled:w,type:"submit",className:" bg-orange-600 py-2 px-4  my-4 text-center shadow-md rounded-lg text-white  hover:bg-orange-700 transition-colors",children:"Sign Up"}),e.jsx("div",{className:" justify-end  self-end",children:e.jsxs("h3",{className:" my-4 ",children:[e.jsxs(v,{className:" cursor-pointer font-semibold text-blue-600",to:"/signIn",children:[" ","sign in"," "]})," "]})}),d&&e.jsx("div",{className:"  mb-10 ",children:e.jsxs("h2",{className:" text-red-600 text-xl font-bold text-center my-4",children:["Error message : ",d]})}),c&&e.jsx("div",{className:"  mb-10 ",children:e.jsx("h2",{className:" text-green-600 text-xl font-bold text-center my-4",children:c})})]})})})})}export{k as default};
