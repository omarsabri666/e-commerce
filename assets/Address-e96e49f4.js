import{u as d,c as u,j as e,d as p,t as b,Q as i,r as j,g as y,h as c,v as N,w as v}from"./index-b9f8667c.js";import{u as w}from"./index.esm-b1f4dafa.js";function k({address:t}){const l=d(),{mutate:n}=u({mutationFn:()=>b(t._id),onSuccess:()=>{l.invalidateQueries(["address"]),i.info("address was deleted ")},onError:()=>{i.error("could not delete address")}});return e.jsx("div",{className:" flex  gap-1 justify-center flex-col    ",children:e.jsxs("div",{className:" flex flex-col w-fit border-2 rounded-xl border-gray-200  ",children:[e.jsxs("h1",{className:" px-3  text-lg font-bold ",children:["Type : ",t.name]}),e.jsxs("h2",{className:" px-3  text-lg font-bold",children:["City: ",t.city]}),e.jsxs("h3",{className:" px-3  pb-1 text-lg font-bold",children:["Phone: ",t.phone]}),e.jsx("button",{onClick:n,className:"  bg-white w-fit hover:bg-omar  transition-all hover:text-white  mx-2   mt-3 mb-2 outline outline-[#ff3c20] rounded-full  px-6 py-2 text-2xl text-black",children:e.jsx(p,{})})]})})}function A(){const{register:t,reset:l,handleSubmit:n}=w(),[a,r]=j.useState(!1),x=d(),{data:o,isLoading:f,isRefetching:m}=y({queryFn:N,queryKey:["address"]}),{mutate:g}=u({mutationFn:s=>v(s),onSuccess:()=>{x.invalidateQueries(["address"]),i.success("address was added "),l(),r(!1)}});async function h(s){g(s)}return m?e.jsx("div",{className:" flex items-center justify-center",children:e.jsx(c,{})}):f?e.jsx("div",{className:" flex items-center justify-center",children:e.jsx(c,{})}):e.jsxs("div",{className:" mx-auto  max-w-6xl flex flex-col justify-center px-4 md:px-0  items-center sm:items-start  sm:justify-start",children:[e.jsx("div",{className:" flex flex-col   gap-4 my-10",children:o==null?void 0:o.data.map(s=>e.jsx(k,{address:s},s._id))}),e.jsxs("button",{onClick:()=>r(s=>!s),className:" my-4  bg-white outline font-bold text-lg rounded-md outline-black text-black hover:text-white hover:bg-black transition-all px-6 py-2",children:[a?"cancel":"Add Address"," "]}),a&&e.jsxs("form",{onSubmit:n(h),className:" flex flex-wrap gap-10  items-center flex-col",children:[e.jsxs("div",{className:" flex gap-4 items-center ",children:[e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:" text-lg font-bold ",htmlFor:"name",children:"Name"}),e.jsx("input",{required:!0,className:" px-5 py-2 text-lg outline bg-slate-100 outline-black focus:outline-none  focus:ring focus:ring-orange-400 focus:ring-offset-2 focus:ring-offset-white  rounded-lg ",id:"name",placeholder:"Home or Work",type:"text",...t("name")})]}),e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:" text-lg font-bold ",htmlFor:"details",children:"details"}),e.jsx("input",{required:!0,className:" px-5 py-2 text-lg outline bg-slate-100 outline-black focus:outline-none  focus:ring focus:ring-orange-400 focus:ring-offset-2 focus:ring-offset-white  rounded-lg ",id:"details",placeholder:"Home details",type:"text",...t("details")})]})]}),e.jsxs("div",{className:" flex gap-4 items-center ",children:[e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:" text-lg font-bold ",htmlFor:"phone",children:"Phone"}),e.jsx("input",{required:!0,className:" px-5 py-2 text-lg outline bg-slate-100 outline-black focus:outline-none  focus:ring focus:ring-orange-400 focus:ring-offset-2 focus:ring-offset-white  rounded-lg ",id:"phone",placeholder:"Phone number",type:"tel",...t("phone")})]}),e.jsxs("div",{className:" flex flex-col gap-1",children:[e.jsx("label",{className:" text-lg font-bold ",htmlFor:"city",children:"City"}),e.jsx("input",{required:!0,className:" px-5 py-2 text-lg outline bg-slate-100 outline-black focus:outline-none  focus:ring focus:ring-orange-400 focus:ring-offset-2 focus:ring-offset-white  rounded-lg ",id:"city",placeholder:"City",type:"text",...t("city")})]})]}),e.jsx("button",{className:" bg-white my-4 text-black font-bold text-lg px-6 py-2 outline outline-black hover:text-white hover:bg-black transition-all rounded-full",children:"Submit"})]})]})}export{A as default};
